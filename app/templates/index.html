{% extends "base.html" %}

{% block title %}Pixelz - Professional Image Processing Made Simple{% endblock %}

{% block body_class %}landing-page{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="uk-container">
        <div class="uk-grid uk-flex-middle uk-height-viewport" uk-grid>
            <div class="uk-width-1-2@l">
                <h1 class="hero-title fade-in">
                    Transform Your Images with <span class="text-gradient">Professional Tools</span>
                </h1>
                <p class="hero-subtitle fade-in">
                    Upload, edit, and download your images with powerful transformation tools. 
                    No cloud setup required - everything works out of the box!
                </p>
                
                {% if not session.user_id %}
                <div class="uk-flex uk-flex-wrap uk-margin-medium-bottom fade-in" style="gap: 1rem;">
                    <button class="uk-button uk-button-primary uk-button-large" style="padding: 1rem 1.5rem;" uk-toggle="target: #signupModal">
                        <i class="fas fa-rocket uk-margin-small-right"></i>Get Started Free
                    </button>
                    <button class="uk-button uk-button-default uk-button-large" style="padding: 1rem 1.5rem; background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.3); color: white;" uk-toggle="target: #loginModal">
                        <i class="fas fa-sign-in-alt uk-margin-small-right"></i>Sign In
                    </button>
                </div>
                {% else %}
                <div class="uk-flex uk-flex-wrap uk-margin-medium-bottom fade-in" style="gap: 1rem;">
                    <a href="{{ url_for('web.dashboard') }}" class="uk-button uk-button-primary uk-button-large" style="padding: 1rem 1.5rem;">
                        <i class="fas fa-tachometer-alt uk-margin-small-right"></i>Go to Dashboard
                    </a>
                    <a href="{{ url_for('web.upload_page') }}" class="uk-button uk-button-default uk-button-large" style="padding: 1rem 1.5rem; background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.3); color: white;">
                        <i class="fas fa-upload uk-margin-small-right"></i>Upload Image
                    </a>
                </div>
                {% endif %}
                
                <div class="uk-flex uk-flex-middle uk-flex-wrap fade-in" style="gap: 2rem; color: rgba(255,255,255,0.7);">
                    <div class="uk-flex uk-flex-middle">
                        <i class="fas fa-check-circle uk-margin-small-right uk-text-success"></i>
                        <small>No registration required to try</small>
                    </div>
                    <div class="uk-flex uk-flex-middle">
                        <i class="fas fa-shield-alt uk-margin-small-right uk-text-success"></i>
                        <small>Secure & Private</small>
                    </div>
                </div>
            </div>
            
            <div class="uk-width-1-2@l uk-text-center fade-in">
                <div class="uk-position-relative">
                    <i class="fas fa-bolt uk-text-white uk-margin-bottom" style="font-size: 8rem; opacity: 0.9;"></i>
                    <div class="uk-position-absolute uk-position-center">
                        <div style="background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); border-radius: 50%; padding: 1rem;">
                            <i class="fas fa-magic uk-text-warning" style="font-size: 3rem;"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section style="padding: 3rem 0; background: #f8f9fa;">
    <div class="uk-container">
        <div class="uk-text-center uk-margin-large-bottom">
            <div>
                <h2 style="font-size: 2.5rem; font-weight: bold; margin-bottom: 1rem;">Powerful Image Processing Features</h2>
                <p style="font-size: 1.25rem; color: #6c757d;">Everything you need to transform your images professionally</p>
            </div>
        </div>
        
        <div class="uk-grid uk-child-width-1-3@m uk-grid-match" uk-grid style="gap: 1.5rem;">
            <div>
                <div class="uk-card uk-card-default uk-card-body uk-text-center hover-lift uk-height-1-1">
                    <i class="feature-icon fas fa-expand-arrows-alt"></i>
                    <h5 class="uk-card-title">Resize & Crop</h5>
                    <p class="uk-text-muted">
                        Intelligently resize images while maintaining aspect ratio, or crop to exact dimensions.
                    </p>
                    <ul style="list-style: none; padding: 0; font-size: 0.875rem; color: #6c757d;">
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Smart aspect ratio preservation</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Custom dimensions</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Batch processing</li>
                    </ul>
                </div>
            </div>
            
            <div>
                <div class="uk-card uk-card-default uk-card-body uk-text-center hover-lift uk-height-1-1">
                    <i class="feature-icon fas fa-palette"></i>
                    <h5 class="uk-card-title">Filters & Effects</h5>
                    <p class="uk-text-muted">
                        Apply professional filters and effects to enhance your images with one-click transformations.
                    </p>
                    <ul style="list-style: none; padding: 0; font-size: 0.875rem; color: #6c757d;">
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Grayscale & Sepia</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Brightness & Contrast</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Artistic filters</li>
                    </ul>
                </div>
            </div>
            
            <div>
                <div class="uk-card uk-card-default uk-card-body uk-text-center hover-lift uk-height-1-1">
                    <i class="feature-icon fas fa-sync-alt"></i>
                    <h5 class="uk-card-title">Rotate & Flip</h5>
                    <p class="uk-text-muted">
                        Rotate images to any angle or flip horizontally/vertically with precision controls.
                    </p>
                    <ul style="list-style: none; padding: 0; font-size: 0.875rem; color: #6c757d;">
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Any degree rotation</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Horizontal/Vertical flip</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Auto-crop borders</li>
                    </ul>
                </div>
            </div>
            
            <div>
                <div class="uk-card uk-card-default uk-card-body uk-text-center hover-lift uk-height-1-1">
                    <i class="feature-icon fas fa-copyright"></i>
                    <h5 class="uk-card-title">Watermarks</h5>
                    <p class="uk-text-muted">
                        Add custom text watermarks with adjustable opacity and positioning to protect your work.
                    </p>
                    <ul style="list-style: none; padding: 0; font-size: 0.875rem; color: #6c757d;">
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Custom text & fonts</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Adjustable opacity</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Multiple positions</li>
                    </ul>
                </div>
            </div>
            
            <div>
                <div class="uk-card uk-card-default uk-card-body uk-text-center hover-lift uk-height-1-1">
                    <i class="feature-icon fas fa-file-export"></i>
                    <h5 class="uk-card-title">Format Conversion</h5>
                    <p class="uk-text-muted">
                        Convert between popular image formats (JPEG, PNG, WebP) with quality controls.
                    </p>
                    <ul style="list-style: none; padding: 0; font-size: 0.875rem; color: #6c757d;">
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>JPEG, PNG, WebP support</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Quality optimization</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Size compression</li>
                    </ul>
                </div>
            </div>
            
            <div>
                <div class="uk-card uk-card-default uk-card-body uk-text-center hover-lift uk-height-1-1">
                    <i class="feature-icon fas fa-compress"></i>
                    <h5 class="uk-card-title">Smart Compression</h5>
                    <p class="uk-text-muted">
                        Reduce file sizes while maintaining visual quality with advanced compression algorithms.
                    </p>
                    <ul style="list-style: none; padding: 0; font-size: 0.875rem; color: #6c757d;">
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Lossless optimization</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Custom quality settings</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Web optimization</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- How It Works Section -->
<section style="padding: 3rem 0;">
    <div class="uk-container">
        <div class="uk-text-center uk-margin-large-bottom">
            <div>
                <h2 style="font-size: 2.5rem; font-weight: bold; margin-bottom: 1rem;">How It Works</h2>
                <p style="font-size: 1.25rem; color: #6c757d;">Get started in just three simple steps</p>
            </div>
        </div>
        
        <div class="uk-grid uk-child-width-1-3@m" uk-grid style="gap: 1.5rem;">
            <div class="uk-text-center">
                <div style="background: var(--primary-color); color: white; border-radius: 50%; width: 80px; height: 80px; display: inline-flex; align-items: center; justify-content: center; margin-bottom: 1rem;">
                    <span style="font-size: 1.75rem; margin: 0;">1</span>
                </div>
                <h5>Upload Your Image</h5>
                <p class="uk-text-muted">
                    Simply drag and drop your image or click to browse. 
                    Supports JPEG, PNG, GIF, and WebP formats up to 16MB.
                </p>
            </div>
            
            <div class="uk-text-center">
                <div style="background: var(--success-color); color: white; border-radius: 50%; width: 80px; height: 80px; display: inline-flex; align-items: center; justify-content: center; margin-bottom: 1rem;">
                    <span style="font-size: 1.75rem; margin: 0;">2</span>
                </div>
                <h5>Apply Transformations</h5>
                <p class="uk-text-muted">
                    Use our intuitive controls to resize, rotate, add filters, 
                    watermarks, and more. See changes in real-time.
                </p>
            </div>
            
            <div class="uk-text-center">
                <div style="background: var(--warning-color); color: white; border-radius: 50%; width: 80px; height: 80px; display: inline-flex; align-items: center; justify-content: center; margin-bottom: 1rem;">
                    <span style="font-size: 1.75rem; margin: 0;">3</span>
                </div>
                <h5>Download Results</h5>
                <p class="uk-text-muted">
                    Download your processed image in your preferred format. 
                    All transformations are saved to your account.
                </p>
            </div>
        </div>
    </div>
</section>

{% if not session.user_id %}
<!-- CTA Section -->
<section style="padding: 3rem 0; background: var(--primary-color); color: white;">
    <div class="uk-container uk-text-center">
        <h2 style="font-size: 2.25rem; font-weight: bold; margin-bottom: 1rem;">Ready to Transform Your Images?</h2>
        <p style="font-size: 1.25rem; margin-bottom: 2rem;">Join thousands of users who trust Pixelz for their image editing needs</p>
        <button class="uk-button uk-button-default uk-button-large" style="padding: 1rem 2rem;" uk-toggle="target: #signupModal">
            <i class="fas fa-rocket uk-margin-small-right"></i>Start Processing Images Now
        </button>
    </div>
</section>

<!-- Login Modal -->
<div id="loginModal" uk-modal>
    <div class="uk-modal-dialog uk-modal-body">
        <button class="uk-modal-close-default" type="button" uk-close></button>
        <div style="border: none;">
            <h5 class="uk-modal-title">
                <i class="fas fa-sign-in-alt uk-margin-small-right uk-text-primary"></i>Sign In to Your Account
            </h5>
        </div>
        <div>
            <form method="POST" action="{{ url_for('web.web_login') }}" class="uk-form-stacked">
                <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
                
                <div class="uk-margin">
                    <label for="loginEmail" class="uk-form-label">Email Address</label>
                    <input type="email" class="uk-input" id="loginEmail" name="email" required>
                </div>
                
                <div class="uk-margin">
                    <label for="loginPassword" class="uk-form-label">Password</label>
                    <input type="password" class="uk-input" id="loginPassword" name="password" required>
                </div>
                
                <button type="submit" class="uk-button uk-button-primary uk-width-1-1" style="padding: 0.5rem;">
                    <i class="fas fa-sign-in-alt uk-margin-small-right"></i>Sign In
                </button>
            </form>
            
            <div class="uk-text-center uk-margin-top">
                <small class="uk-text-muted">
                    Don't have an account? 
                    <a href="#" uk-toggle="target: #loginModal; target: #signupModal">Sign up here</a>
                </small>
            </div>
        </div>
    </div>
</div>

<!-- Signup Modal -->
<div id="signupModal" uk-modal>
    <div class="uk-modal-dialog uk-modal-body">
        <button class="uk-modal-close-default" type="button" uk-close></button>
        <div style="border: none;">
            <h5 class="uk-modal-title">
                <i class="fas fa-user-plus uk-margin-small-right uk-text-primary"></i>Create Your Account
            </h5>
        </div>
        <div>
            <div class="uk-alert uk-alert-primary">
                <i class="fas fa-info-circle uk-margin-small-right"></i>
                <strong>Welcome!</strong> Create your account to start processing images. No credit card required.
            </div>
            
            <form method="POST" action="{{ url_for('web.web_signup') }}" class="uk-form-stacked">
                <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
                
                <div class="uk-margin">
                    <label for="signupEmail" class="uk-form-label">Email Address</label>
                    <input type="email" class="uk-input" id="signupEmail" name="email" required>
                    <div class="uk-text-meta">We'll never share your email with anyone else.</div>
                </div>
                
                <div class="uk-margin">
                    <label for="signupPassword" class="uk-form-label">Password</label>
                    <input type="password" class="uk-input" id="signupPassword" name="password" minlength="6" required>
                </div>
                
                <div class="uk-margin">
                    <label for="confirmPassword" class="uk-form-label">Confirm Password</label>
                    <input type="password" class="uk-input" id="confirmPassword" name="confirm_password" required>
                </div>
                
                <button type="submit" class="uk-button uk-button-primary uk-width-1-1" style="padding: 0.5rem;">
                    <i class="fas fa-rocket uk-margin-small-right"></i>Create Account & Start Processing
                </button>
            </form>
            
            <div class="uk-text-center uk-margin-top">
                <small class="uk-text-muted">
                    Already have an account? 
                    <a href="#" uk-toggle="target: #signupModal; target: #loginModal">Sign in here</a>
                </small>
            </div>
        </div>
    </div>
</div>
{% endif %}
{% endblock %}

{% block extra_js %}
<script>
// Password confirmation validation
document.addEventListener('DOMContentLoaded', function() {
    const password = document.getElementById('signupPassword');
    const confirmPassword = document.getElementById('confirmPassword');
    
    if (password && confirmPassword) {
        function validatePassword() {
            if (password.value !== confirmPassword.value) {
                confirmPassword.setCustomValidity("Passwords don't match");
            } else {
                confirmPassword.setCustomValidity('');
            }
        }
        
        password.addEventListener('change', validatePassword);
        confirmPassword.addEventListener('change', validatePassword);
    }
});
</script>
{% endblock %}