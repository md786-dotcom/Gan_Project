{% extends "base.html" %}

{% block title %}Pixelz - Professional Image Processing Made Simple{% endblock %}

{% block body_class %}landing-page{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="uk-section uk-section-large uk-section-primary uk-light uk-background-cover uk-background-center-center uk-height-viewport uk-flex uk-flex-middle" style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.9), rgba(118, 75, 162, 0.9)), url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><defs><pattern id=\"grid\" width=\"10\" height=\"10\" patternUnits=\"userSpaceOnUse\"><path d=\"M 10 0 L 0 0 0 10\" fill=\"none\" stroke=\"rgba(255,255,255,0.1)\" stroke-width=\"0.5\"/></pattern></defs><rect width=\"100\" height=\"100\" fill=\"url(%23grid)\"/></svg>');">
    <div class="uk-container">
        <div class="uk-grid-match uk-flex-middle" uk-grid>
            <div class="uk-width-1-2@l">
                <h1 class="uk-heading-large uk-margin-bottom" uk-scrollspy="cls: uk-animation-slide-left-medium">
                    Transform Your Images with <span class="uk-text-gradient">Professional Tools</span>
                </h1>
                <p class="uk-text-large uk-margin-medium-bottom" uk-scrollspy="cls: uk-animation-slide-left-medium; delay: 200">
                    Upload, edit, and download your images with powerful transformation tools. 
                    No cloud setup required - everything works out of the box!
                </p>
                
                {% if not session.user_id %}
                <div class="uk-margin-medium-bottom" uk-scrollspy="cls: uk-animation-slide-left-medium; delay: 400">
                    <button class="uk-button uk-button-primary uk-button-large uk-margin-small-right" uk-toggle="target: #signup-modal">
                        <i class="fas fa-rocket uk-margin-small-right"></i>Get Started Free
                    </button>
                    <button class="uk-button uk-button-default uk-button-large" uk-toggle="target: #login-modal">
                        <i class="fas fa-sign-in-alt uk-margin-small-right"></i>Sign In
                    </button>
                </div>
                {% else %}
                <div class="uk-margin-medium-bottom" uk-scrollspy="cls: uk-animation-slide-left-medium; delay: 400">
                    <a href="{{ url_for('web.dashboard') }}" class="uk-button uk-button-primary uk-button-large uk-margin-small-right">
                        <i class="fas fa-tachometer-alt uk-margin-small-right"></i>Go to Dashboard
                    </a>
                    <a href="{{ url_for('web.upload_page') }}" class="uk-button uk-button-default uk-button-large">
                        <i class="fas fa-upload uk-margin-small-right"></i>Upload Image
                    </a>
                </div>
                {% endif %}
                
                <div class="uk-flex uk-flex-wrap uk-flex-middle uk-text-small" uk-scrollspy="cls: uk-animation-slide-left-medium; delay: 600">
                    <div class="uk-flex uk-flex-middle uk-margin-small-right">
                        <i class="fas fa-check-circle uk-margin-small-right uk-text-success"></i>
                        <span>No registration required to try</span>
                    </div>
                    <div class="uk-flex uk-flex-middle">
                        <i class="fas fa-shield-alt uk-margin-small-right uk-text-success"></i>
                        <span>Secure & Private</span>
                    </div>
                </div>
            </div>
            
            <div class="uk-width-1-2@l uk-text-center" uk-scrollspy="cls: uk-animation-slide-right-medium; delay: 200">
                <div class="uk-position-relative uk-display-inline-block">
                    <div class="uk-border-circle uk-background-primary uk-light uk-padding-large uk-box-shadow-large">
                        <i class="fas fa-bolt" style="font-size: 6rem;"></i>
                    </div>
                    <div class="uk-position-center">
                        <div class="uk-border-circle uk-background-gradient uk-light uk-padding-small uk-animation-pulse">
                            <i class="fas fa-magic uk-text-warning" style="font-size: 2rem;"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="uk-section uk-section-default">
    <div class="uk-container">
        <div class="uk-text-center uk-margin-large-bottom">
            <h2 class="uk-heading-medium">Powerful Image Processing Features</h2>
            <p class="uk-text-lead uk-text-muted">Everything you need to transform your images professionally</p>
        </div>
        
        <div class="uk-grid-match uk-child-width-1-3@m uk-child-width-1-2@s" uk-grid uk-scrollspy="cls: uk-animation-slide-bottom-small; target: > div; delay: 100; repeat: true">
            <div>
                <div class="uk-card uk-card-default uk-card-hover uk-card-body uk-text-center uk-height-1-1">
                    <i class="fas fa-expand-arrows-alt uk-text-primary uk-margin-bottom" style="font-size: 3rem;"></i>
                    <h5 class="uk-card-title">Resize & Crop</h5>
                    <p class="uk-text-muted">
                        Intelligently resize images while maintaining aspect ratio, or crop to exact dimensions.
                    </p>
                    <ul class="uk-list uk-text-small uk-text-muted">
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Smart aspect ratio preservation</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Custom dimensions</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Batch processing</li>
                    </ul>
                </div>
            </div>
            
            <div>
                <div class="uk-card uk-card-default uk-card-hover uk-card-body uk-text-center uk-height-1-1">
                    <i class="fas fa-palette uk-text-primary uk-margin-bottom" style="font-size: 3rem;"></i>
                    <h5 class="uk-card-title">Filters & Effects</h5>
                    <p class="uk-text-muted">
                        Apply professional filters and effects to enhance your images with one-click transformations.
                    </p>
                    <ul class="uk-list uk-text-small uk-text-muted">
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Grayscale & Sepia</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Brightness & Contrast</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Artistic filters</li>
                    </ul>
                </div>
            </div>
            
            <div>
                <div class="uk-card uk-card-default uk-card-hover uk-card-body uk-text-center uk-height-1-1">
                    <i class="fas fa-sync-alt uk-text-primary uk-margin-bottom" style="font-size: 3rem;"></i>
                    <h5 class="uk-card-title">Rotate & Flip</h5>
                    <p class="uk-text-muted">
                        Rotate images to any angle or flip horizontally/vertically with precision controls.
                    </p>
                    <ul class="uk-list uk-text-small uk-text-muted">
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Any degree rotation</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Horizontal/Vertical flip</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Auto-crop borders</li>
                    </ul>
                </div>
            </div>
            
            <div>
                <div class="uk-card uk-card-default uk-card-hover uk-card-body uk-text-center uk-height-1-1">
                    <i class="fas fa-copyright uk-text-primary uk-margin-bottom" style="font-size: 3rem;"></i>
                    <h5 class="uk-card-title">Watermarks</h5>
                    <p class="uk-text-muted">
                        Add custom text watermarks with adjustable opacity and positioning to protect your work.
                    </p>
                    <ul class="uk-list uk-text-small uk-text-muted">
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Custom text & fonts</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Adjustable opacity</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Multiple positions</li>
                    </ul>
                </div>
            </div>
            
            <div>
                <div class="uk-card uk-card-default uk-card-hover uk-card-body uk-text-center uk-height-1-1">
                    <i class="fas fa-file-export uk-text-primary uk-margin-bottom" style="font-size: 3rem;"></i>
                    <h5 class="uk-card-title">Format Conversion</h5>
                    <p class="uk-text-muted">
                        Convert between popular image formats (JPEG, PNG, WebP) with quality controls.
                    </p>
                    <ul class="uk-list uk-text-small uk-text-muted">
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>JPEG, PNG, WebP support</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Quality optimization</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Size compression</li>
                    </ul>
                </div>
            </div>
            
            <div>
                <div class="uk-card uk-card-default uk-card-hover uk-card-body uk-text-center uk-height-1-1">
                    <i class="fas fa-compress uk-text-primary uk-margin-bottom" style="font-size: 3rem;"></i>
                    <h5 class="uk-card-title">Smart Compression</h5>
                    <p class="uk-text-muted">
                        Reduce file sizes while maintaining visual quality with advanced compression algorithms.
                    </p>
                    <ul class="uk-list uk-text-small uk-text-muted">
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Lossless optimization</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Custom quality settings</li>
                        <li><i class="fas fa-check uk-text-success uk-margin-small-right"></i>Web optimization</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- How It Works Section -->
<section class="uk-section uk-section-muted">
    <div class="uk-container">
        <div class="uk-text-center uk-margin-large-bottom">
            <h2 class="uk-heading-medium">How It Works</h2>
            <p class="uk-text-lead uk-text-muted">Get started in just three simple steps</p>
        </div>
        
        <div class="uk-grid-match uk-child-width-1-3@m" uk-grid uk-scrollspy="cls: uk-animation-slide-bottom-small; target: > div; delay: 100; repeat: true">
            <div class="uk-text-center">
                <div class="uk-border-circle uk-background-primary uk-light uk-width-medium uk-height-medium uk-flex uk-flex-center uk-flex-middle uk-margin-auto uk-margin-bottom">
                    <span class="uk-text-large uk-text-bold">1</span>
                </div>
                <h5 class="uk-margin-small-top">Upload Your Image</h5>
                <p class="uk-text-muted">
                    Simply drag and drop your image or click to browse. 
                    Supports JPEG, PNG, GIF, and WebP formats up to 16MB.
                </p>
            </div>
            
            <div class="uk-text-center">
                <div class="uk-border-circle uk-background-secondary uk-light uk-width-medium uk-height-medium uk-flex uk-flex-center uk-flex-middle uk-margin-auto uk-margin-bottom">
                    <span class="uk-text-large uk-text-bold">2</span>
                </div>
                <h5 class="uk-margin-small-top">Apply Transformations</h5>
                <p class="uk-text-muted">
                    Use our intuitive controls to resize, rotate, add filters, 
                    watermarks, and more. See changes in real-time.
                </p>
            </div>
            
            <div class="uk-text-center">
                <div class="uk-border-circle uk-background-warning uk-light uk-width-medium uk-height-medium uk-flex uk-flex-center uk-flex-middle uk-margin-auto uk-margin-bottom">
                    <span class="uk-text-large uk-text-bold">3</span>
                </div>
                <h5 class="uk-margin-small-top">Download Results</h5>
                <p class="uk-text-muted">
                    Download your processed image in your preferred format. 
                    All transformations are saved to your account.
                </p>
            </div>
        </div>
    </div>
</section>

{% if not session.user_id %}
<!-- CTA Section -->
<section class="uk-section uk-section-primary uk-light">
    <div class="uk-container uk-text-center">
        <h2 class="uk-heading-medium uk-margin-bottom">Ready to Transform Your Images?</h2>
        <p class="uk-text-lead uk-margin-medium-bottom">Join thousands of users who trust Pixelz for their image editing needs</p>
        <button class="uk-button uk-button-default uk-button-large" uk-toggle="target: #signup-modal">
            <i class="fas fa-rocket uk-margin-small-right"></i>Start Processing Images Now
        </button>
    </div>
</section>

<!-- Login Modal -->
<div id="login-modal" uk-modal>
    <div class="uk-modal-dialog uk-modal-body">
        <button class="uk-modal-close-default" type="button" uk-close></button>
        <h2 class="uk-modal-title">
            <i class="fas fa-sign-in-alt uk-margin-small-right uk-text-primary"></i>Sign In to Your Account
        </h2>
        
        <form method="POST" action="{{ url_for('web.web_login') }}" class="uk-form-stacked">
            <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
            
            <div class="uk-margin">
                <label class="uk-form-label" for="loginEmail">Email Address</label>
                <div class="uk-form-controls">
                    <input class="uk-input" id="loginEmail" name="email" type="email" required>
                </div>
            </div>
            
            <div class="uk-margin">
                <label class="uk-form-label" for="loginPassword">Password</label>
                <div class="uk-form-controls">
                    <input class="uk-input" id="loginPassword" name="password" type="password" required>
                </div>
            </div>
            
            <button type="submit" class="uk-button uk-button-primary uk-width-1-1 uk-margin">
                <i class="fas fa-sign-in-alt uk-margin-small-right"></i>Sign In
            </button>
        </form>
        
        <div class="uk-text-center uk-margin-top">
            <small class="uk-text-muted">
                Don't have an account? 
                <a href="#" uk-toggle="target: #login-modal; target: #signup-modal" class="uk-link">Sign up here</a>
            </small>
        </div>
    </div>
</div>

<!-- Signup Modal -->
<div id="signup-modal" uk-modal>
    <div class="uk-modal-dialog uk-modal-body">
        <button class="uk-modal-close-default" type="button" uk-close></button>
        <h2 class="uk-modal-title">
            <i class="fas fa-user-plus uk-margin-small-right uk-text-primary"></i>Create Your Account
        </h2>
        
        <div class="uk-alert-primary" uk-alert>
            <p><i class="fas fa-info-circle uk-margin-small-right"></i>
            <strong>Welcome!</strong> Create your account to start processing images. No credit card required.</p>
        </div>
        
        <form method="POST" action="{{ url_for('web.web_signup') }}" class="uk-form-stacked">
            <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
            
            <div class="uk-margin">
                <label class="uk-form-label" for="signupEmail">Email Address</label>
                <div class="uk-form-controls">
                    <input class="uk-input" id="signupEmail" name="email" type="email" required>
                    <div class="uk-text-meta">We'll never share your email with anyone else.</div>
                </div>
            </div>
            
            <div class="uk-margin">
                <label class="uk-form-label" for="signupPassword">Password</label>
                <div class="uk-form-controls">
                    <input class="uk-input" id="signupPassword" name="password" type="password" minlength="6" required>
                </div>
            </div>
            
            <div class="uk-margin">
                <label class="uk-form-label" for="confirmPassword">Confirm Password</label>
                <div class="uk-form-controls">
                    <input class="uk-input" id="confirmPassword" name="confirm_password" type="password" required>
                </div>
            </div>
            
            <button type="submit" class="uk-button uk-button-primary uk-width-1-1 uk-margin">
                <i class="fas fa-rocket uk-margin-small-right"></i>Create Account & Start Processing
            </button>
        </form>
        
        <div class="uk-text-center uk-margin-top">
            <small class="uk-text-muted">
                Already have an account? 
                <a href="#" uk-toggle="target: #signup-modal; target: #login-modal" class="uk-link">Sign in here</a>
            </small>
        </div>
    </div>
</div>
{% endif %}
{% endblock %}

{% block extra_js %}
<script>
// Password confirmation validation
document.addEventListener('DOMContentLoaded', function() {
    const password = document.getElementById('signupPassword');
    const confirmPassword = document.getElementById('confirmPassword');
    
    if (password && confirmPassword) {
        function validatePassword() {
            if (password.value !== confirmPassword.value) {
                confirmPassword.setCustomValidity("Passwords don't match");
            } else {
                confirmPassword.setCustomValidity('');
            }
        }
        
        password.addEventListener('change', validatePassword);
        confirmPassword.addEventListener('change', validatePassword);
    }
});
</script>
{% endblock %}